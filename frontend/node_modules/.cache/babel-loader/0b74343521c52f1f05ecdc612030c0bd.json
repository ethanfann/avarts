{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n} // === Symbol Support ===\n\n\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription); // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n\n\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = /*#__PURE__*/function () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = /*#__PURE__*/function () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","map":{"version":3,"sources":["/home/ethan/avarts/frontend/node_modules/zen-observable/lib/Observable.js"],"names":["Object","defineProperty","exports","value","Observable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","hasSymbols","Symbol","hasSymbol","name","Boolean","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","obj","undefined","getSpecies","ctor","constructor","isObservable","x","hostReportError","e","log","setTimeout","enqueue","fn","Promise","resolve","then","cleanupSubscription","subscription","cleanup","_cleanup","unsubscribe","call","closeSubscription","_observer","_queue","_state","flushSubscription","queue","notifySubscription","type","observer","m","onNotify","push","Subscription","subscriber","subscriptionObserver","SubscriptionObserver","error","get","_subscription","next","complete","_subscriber","subscribe","arguments","forEach","_this","reject","done","map","_this2","C","filter","_this3","reduce","_this4","hasSeed","hasValue","seed","acc","first","concat","_this5","_len","sources","Array","_key","index","startNext","v","from","flatMap","_this6","subscriptions","outer","inner","indexOf","splice","completeIfDone","closed","s","method","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","iterator","_step","_item","err","return","isArray","of","_len2","items","_key2","symbol"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription);\n\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver =\n/*#__PURE__*/\nfunction () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable =\n/*#__PURE__*/\nfunction () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}"]},"metadata":{},"sourceType":"script"}