{"ast":null,"code":"var _jsxFileName = \"/home/ethan/avarts/frontend/src/components/AvatarDropdown.tsx\";\nimport { faMoon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useEffect } from 'react';\nimport UserContext from '../userContext';\n\nconst halfmoon = require('halfmoon');\n\nexport const AvatarDropdown = () => {\n  useEffect(() => {\n    halfmoon.onDOMContentLoaded();\n  }, []);\n\n  const toggleDarkMode = () => {\n    halfmoon.toggleDarkMode();\n    const darkModePref = localStorage.getItem('prefer-dark-mode');\n\n    if (darkModePref) {\n      if (darkModePref === 'true') {\n        localStorage.setItem('prefer-dark-mode', 'false');\n      } else if (darkModePref === 'false') {\n        localStorage.setItem('prefer-dark-mode', 'true');\n      }\n    } else {\n      localStorage.setItem('prefer-dark-mode', 'false');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(UserContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, ctx => {\n    var _ctx$user;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown with-arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      \"data-toggle\": \"dropdown\",\n      id: \"avatar-popover-toggle\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        verticalAlign: 'middle',\n        width: '30px',\n        height: '30px'\n      },\n      src: ctx.user && ctx.user.img !== '' ? (_ctx$user = ctx.user) === null || _ctx$user === void 0 ? void 0 : _ctx$user.img : 'https://kctherapy.com/wp-content/uploads/2019/09/default-user-avatar-e1569863570634.png',\n      className: \"rounded-circle\",\n      alt: \"...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-menu dropdown-menu-right mr-5\",\n      \"aria-labelledby\": \"avatar-popover-toggle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"dropdown-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, ctx.user.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn mt-5\",\n      onClick: ctx.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, \"Sign Out\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-action float-right mt-5\",\n      type: \"button\",\n      onClick: toggleDarkMode,\n      \"aria-label\": \"Toggle dark mode\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faMoon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    })))));\n  });\n};\nexport default AvatarDropdown;","map":{"version":3,"sources":["/home/ethan/avarts/frontend/src/components/AvatarDropdown.tsx"],"names":["faMoon","FontAwesomeIcon","React","useEffect","UserContext","halfmoon","require","AvatarDropdown","onDOMContentLoaded","toggleDarkMode","darkModePref","localStorage","getItem","setItem","ctx","verticalAlign","width","height","user","img","name","logout"],"mappings":";AAAA,SAASA,MAAT,QAAuB,mCAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AAEA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClCJ,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,QAAQ,CAACG,kBAAT;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,cAAc,GAAG,MAAM;AAC3BJ,IAAAA,QAAQ,CAACI,cAAT;AAEA,UAAMC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAArB;;AAEA,QAAIF,YAAJ,EAAkB;AAChB,UAAIA,YAAY,KAAK,MAArB,EAA6B;AAC3BC,QAAAA,YAAY,CAACE,OAAb,CAAqB,kBAArB,EAAyC,OAAzC;AACD,OAFD,MAEO,IAAIH,YAAY,KAAK,OAArB,EAA8B;AACnCC,QAAAA,YAAY,CAACE,OAAb,CAAqB,kBAArB,EAAyC,MAAzC;AACD;AACF,KAND,MAMO;AACLF,MAAAA,YAAY,CAACE,OAAb,CAAqB,kBAArB,EAAyC,OAAzC;AACD;AACF,GAdD;;AAeA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIC,GAAD;AAAA;;AAAA,wBACC,uDACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,qBAAY,UADd;AAEE,MAAA,EAAE,EAAC,uBAFL;AAGE,uBAAc,MAHhB;AAIE,uBAAc,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,aAAa,EAAE,QADV;AAELC,QAAAA,KAAK,EAAE,MAFF;AAGLC,QAAAA,MAAM,EAAE;AAHH,OADT;AAME,MAAA,GAAG,EACDH,GAAG,CAACI,IAAJ,IAAYJ,GAAG,CAACI,IAAJ,CAASC,GAAT,KAAiB,EAA7B,gBACIL,GAAG,CAACI,IADR,8CACI,UAAUC,GADd,GAEI,yFATR;AAWE,MAAA,SAAS,EAAC,gBAXZ;AAYE,MAAA,GAAG,EAAC,KAZN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CANF,CADF,eAwBE;AACE,MAAA,SAAS,EAAC,wCADZ;AAEE,yBAAgB,uBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCL,GAAG,CAACI,IAAJ,CAASE,IAA1C,CAJF,eAKE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAME;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAA6B,MAAA,OAAO,EAAEN,GAAG,CAACO,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,eASE;AACE,MAAA,SAAS,EAAC,iCADZ;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,OAAO,EAAEZ,cAHX;AAIE,oBAAW,kBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAET,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CATF,CAxBF,CADF,CADD;AAAA,GADH,CADF;AAmDD,CAvEM;AAyEP,eAAeO,cAAf","sourcesContent":["import { faMoon } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport React, { useEffect } from 'react'\nimport UserContext from '../userContext'\n\nconst halfmoon = require('halfmoon')\n\nexport const AvatarDropdown = () => {\n  useEffect(() => {\n    halfmoon.onDOMContentLoaded()\n  }, [])\n\n  const toggleDarkMode = () => {\n    halfmoon.toggleDarkMode()\n\n    const darkModePref = localStorage.getItem('prefer-dark-mode')\n\n    if (darkModePref) {\n      if (darkModePref === 'true') {\n        localStorage.setItem('prefer-dark-mode', 'false')\n      } else if (darkModePref === 'false') {\n        localStorage.setItem('prefer-dark-mode', 'true')\n      }\n    } else {\n      localStorage.setItem('prefer-dark-mode', 'false')\n    }\n  }\n  return (\n    <UserContext.Consumer>\n      {(ctx) => (\n        <>\n          <div className=\"dropdown with-arrow\">\n            <a\n              data-toggle=\"dropdown\"\n              id=\"avatar-popover-toggle\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <div className=\"text-center\">\n                <img\n                  style={{\n                    verticalAlign: 'middle',\n                    width: '30px',\n                    height: '30px',\n                  }}\n                  src={\n                    ctx.user && ctx.user.img !== ''\n                      ? ctx.user?.img\n                      : 'https://kctherapy.com/wp-content/uploads/2019/09/default-user-avatar-e1569863570634.png'\n                  }\n                  className=\"rounded-circle\"\n                  alt=\"...\"\n                />\n              </div>\n            </a>\n            <div\n              className=\"dropdown-menu dropdown-menu-right mr-5\"\n              aria-labelledby=\"avatar-popover-toggle\"\n            >\n              <h6 className=\"dropdown-header\">{ctx.user.name}</h6>\n              <div className=\"dropdown-divider\"></div>\n              <button className=\"btn mt-5\" onClick={ctx.logout}>\n                Sign Out\n              </button>\n              <button\n                className=\"btn btn-action float-right mt-5\"\n                type=\"button\"\n                onClick={toggleDarkMode}\n                aria-label=\"Toggle dark mode\"\n              >\n                <FontAwesomeIcon icon={faMoon} />\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </UserContext.Consumer>\n  )\n}\n\nexport default AvatarDropdown\n"]},"metadata":{},"sourceType":"module"}