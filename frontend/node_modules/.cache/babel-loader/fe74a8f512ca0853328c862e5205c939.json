{"ast":null,"code":"var _jsxFileName = \"/home/ethan/avarts/frontend/src/components/AvatarDropdown.tsx\";\nimport { faMoon } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect } from \"react\";\nimport UserContext from \"../userContext\";\n\nconst halfmoon = require(\"halfmoon\");\n\nexport const AvatarDropdown = () => {\n  useEffect(() => {\n    halfmoon.onDOMContentLoaded();\n  }, []);\n\n  const toggleDarkMode = () => {\n    halfmoon.toggleDarkMode();\n    const darkModePref = localStorage.getItem(\"prefer-dark-mode\");\n\n    if (darkModePref) {\n      if (darkModePref === \"true\") {\n        localStorage.setItem(\"prefer-dark-mode\", \"false\");\n      } else if (darkModePref === \"false\") {\n        localStorage.setItem(\"prefer-dark-mode\", \"true\");\n      }\n    } else {\n      localStorage.setItem(\"prefer-dark-mode\", \"false\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(UserContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, ctx => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown with-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    \"data-toggle\": \"dropdown\",\n    id: \"avatar-popover-toggle\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      verticalAlign: \"middle\",\n      width: \"30px\",\n      height: \"30px\"\n    },\n    src: \"https://kctherapy.com/wp-content/uploads/2019/09/default-user-avatar-e1569863570634.png\",\n    className: \"rounded-circle\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown-menu dropdown-menu-right mr-5\",\n    \"aria-labelledby\": \"avatar-popover-toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"dropdown-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, ctx.user.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn mt-5\",\n    onClick: ctx.logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Sign Out\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-action float-right mt-5\",\n    type: \"button\",\n    onClick: toggleDarkMode,\n    \"aria-label\": \"Toggle dark mode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faMoon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }))))));\n};\nexport default AvatarDropdown;","map":{"version":3,"sources":["/home/ethan/avarts/frontend/src/components/AvatarDropdown.tsx"],"names":["faMoon","FontAwesomeIcon","React","useEffect","UserContext","halfmoon","require","AvatarDropdown","onDOMContentLoaded","toggleDarkMode","darkModePref","localStorage","getItem","setItem","ctx","verticalAlign","width","height","user","name","logout"],"mappings":";AAAA,SAASA,MAAT,QAAuB,mCAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AAEA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClCJ,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,QAAQ,CAACG,kBAAT;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,cAAc,GAAG,MAAM;AAC3BJ,IAAAA,QAAQ,CAACI,cAAT;AAEA,UAAMC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAArB;;AAEA,QAAIF,YAAJ,EAAkB;AAChB,UAAIA,YAAY,KAAK,MAArB,EAA6B;AAC3BC,QAAAA,YAAY,CAACE,OAAb,CAAqB,kBAArB,EAAyC,OAAzC;AACD,OAFD,MAEO,IAAIH,YAAY,KAAK,OAArB,EAA8B;AACnCC,QAAAA,YAAY,CAACE,OAAb,CAAqB,kBAArB,EAAyC,MAAzC;AACD;AACF,KAND,MAMO;AACLF,MAAAA,YAAY,CAACE,OAAb,CAAqB,kBAArB,EAAyC,OAAzC;AACD;AACF,GAdD;;AAeA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIC,GAAD,iBACC,uDACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAY,UADd;AAEE,IAAA,EAAE,EAAC,uBAFL;AAGE,qBAAc,MAHhB;AAIE,qBAAc,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,aAAa,EAAE,QADV;AAELC,MAAAA,KAAK,EAAE,MAFF;AAGLC,MAAAA,MAAM,EAAE;AAHH,KADT;AAME,IAAA,GAAG,EACD,yFAPJ;AASE,IAAA,SAAS,EAAC,gBATZ;AAUE,IAAA,GAAG,EAAC,KAVN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,CADF,eAsBE;AACE,IAAA,SAAS,EAAC,wCADZ;AAEE,uBAAgB,uBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCH,GAAG,CAACI,IAAJ,CAASC,IAA1C,CAJF,eAKE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,OAAO,EAAEL,GAAG,CAACM,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eASE;AACE,IAAA,SAAS,EAAC,iCADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAEX,cAHX;AAIE,kBAAW,kBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAET,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CATF,CAtBF,CADF,CAFJ,CADF;AAiDD,CArEM;AAuEP,eAAeO,cAAf","sourcesContent":["import { faMoon } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect } from \"react\";\nimport UserContext from \"../userContext\";\n\nconst halfmoon = require(\"halfmoon\");\n\nexport const AvatarDropdown = () => {\n  useEffect(() => {\n    halfmoon.onDOMContentLoaded();\n  }, []);\n\n  const toggleDarkMode = () => {\n    halfmoon.toggleDarkMode();\n\n    const darkModePref = localStorage.getItem(\"prefer-dark-mode\");\n\n    if (darkModePref) {\n      if (darkModePref === \"true\") {\n        localStorage.setItem(\"prefer-dark-mode\", \"false\");\n      } else if (darkModePref === \"false\") {\n        localStorage.setItem(\"prefer-dark-mode\", \"true\");\n      }\n    } else {\n      localStorage.setItem(\"prefer-dark-mode\", \"false\");\n    }\n  };\n  return (\n    <UserContext.Consumer>\n      {(ctx) => (\n        <>\n          <div className=\"dropdown with-arrow\">\n            <a\n              data-toggle=\"dropdown\"\n              id=\"avatar-popover-toggle\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <div className=\"text-center\">\n                <img\n                  style={{\n                    verticalAlign: \"middle\",\n                    width: \"30px\",\n                    height: \"30px\",\n                  }}\n                  src={\n                    \"https://kctherapy.com/wp-content/uploads/2019/09/default-user-avatar-e1569863570634.png\"\n                  }\n                  className=\"rounded-circle\"\n                  alt=\"...\"\n                />\n              </div>\n            </a>\n            <div\n              className=\"dropdown-menu dropdown-menu-right mr-5\"\n              aria-labelledby=\"avatar-popover-toggle\"\n            >\n              <h6 className=\"dropdown-header\">{ctx.user.name}</h6>\n              <div className=\"dropdown-divider\"></div>\n              <button className=\"btn mt-5\" onClick={ctx.logout}>\n                Sign Out\n              </button>\n              <button\n                className=\"btn btn-action float-right mt-5\"\n                type=\"button\"\n                onClick={toggleDarkMode}\n                aria-label=\"Toggle dark mode\"\n              >\n                <FontAwesomeIcon icon={faMoon} />\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </UserContext.Consumer>\n  );\n};\n\nexport default AvatarDropdown;\n"]},"metadata":{},"sourceType":"module"}