{"ast":null,"code":"import { isDevelopment, isTest } from \"./environment.js\";\n\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value) {\n  var workSet = new Set([value]);\n  workSet.forEach(function (obj) {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(function (name) {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nexport function maybeDeepFreeze(obj) {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n\n  return obj;\n}","map":{"version":3,"sources":["../../../src/utilities/common/maybeDeepFreeze.ts"],"names":[],"mappings":"AAAA,SAAS,aAAT,EAAwB,MAAxB,QAAsC,kBAAtC;;AAEA,SAAS,QAAT,CAAkB,KAAlB,EAA4B;AAC1B,SAAO,KAAK,KAAK,IAAV,IAAkB,OAAO,KAAP,KAAiB,QAA1C;AACD;;AAED,SAAS,UAAT,CAAoB,KAApB,EAA8B;AAC5B,MAAM,OAAO,GAAG,IAAI,GAAJ,CAAQ,CAAC,KAAD,CAAR,CAAhB;AACA,EAAA,OAAO,CAAC,OAAR,CAAgB,UAAA,GAAA,EAAG;AACjB,QAAI,QAAQ,CAAC,GAAD,CAAZ,EAAmB;AACjB,UAAI,CAAC,MAAM,CAAC,QAAP,CAAgB,GAAhB,CAAL,EAA2B,MAAM,CAAC,MAAP,CAAc,GAAd;AAC3B,MAAA,MAAM,CAAC,mBAAP,CAA2B,GAA3B,EAAgC,OAAhC,CAAwC,UAAA,IAAA,EAAI;AAC1C,YAAI,QAAQ,CAAC,GAAG,CAAC,IAAD,CAAJ,CAAZ,EAAyB,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAD,CAAf;AAC1B,OAFD;AAGD;AACF,GAPD;AAQA,SAAO,KAAP;AACD;;AAED,OAAM,SAAU,eAAV,CAA6B,GAA7B,EAAmC;AACvC,MAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAAzB,KAA0C,aAAa,MAAM,MAAM,EAAnE,CAAJ,EAA4E;AAC1E,IAAA,UAAU,CAAC,GAAD,CAAV;AACD;;AACD,SAAO,GAAP;AACD","sourceRoot":"","sourcesContent":["import { isDevelopment, isTest } from \"./environment.js\";\nfunction isObject(value) {\n    return value !== null && typeof value === \"object\";\n}\nfunction deepFreeze(value) {\n    var workSet = new Set([value]);\n    workSet.forEach(function (obj) {\n        if (isObject(obj)) {\n            if (!Object.isFrozen(obj))\n                Object.freeze(obj);\n            Object.getOwnPropertyNames(obj).forEach(function (name) {\n                if (isObject(obj[name]))\n                    workSet.add(obj[name]);\n            });\n        }\n    });\n    return value;\n}\nexport function maybeDeepFreeze(obj) {\n    if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n        deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map"]},"metadata":{},"sourceType":"module"}